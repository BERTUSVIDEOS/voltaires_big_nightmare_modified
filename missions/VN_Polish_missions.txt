#Polish missions
#By ShyGuy13

vn_pol_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = POL
            AND = {
                tag = PLC
                NOT = { was_tag = LIT }
            }
            AND = {
                tag = KRA
                was_tag = POL
            }
        }
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_pol_join_northern_crusades = {
        icon = mission_soldiers_in_line
        position = 1
        required_missions = {  }
        trigger = {
            papal_influence = 100
            num_of_generals = 2
            army_size_percentage = 0.75
            any_neighbor_country = {
                religion = slavic_pagan
            }
        }
        effect = {
            westpreussensouth_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            westpreussennorth_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            stolp_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = pol_join_northern_crusades_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_pomerelia = {
        icon = claim_the_borderlands
        position = 2
        required_missions = { vn_pol_join_northern_crusades vn_pol_invite_german_settlers }
        provinces_to_highlight = {
            OR = {
                area = westpreussensouth_area
                area = westpreussennorth_area
                area = stolp_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            westpreussensouth_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            westpreussennorth_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            stolp_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            neumark_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kolberg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            berlin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kulmerland_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ostpreusseneast_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            westpreussensouth_area = {
                add_province_modifier = {
                    name = pol_conquer_pomerelia_mission
                    duration = 9125
                }
            }
            westpreussennorth_area = {
                add_province_modifier = {
                    name = pol_conquer_pomerelia_mission
                    duration = 9125
                }
            }
            stolp_area = {
                add_province_modifier = {
                    name = pol_conquer_pomerelia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_pol_conquer_hinterpommern = {
        icon = mission_sea_battles
        position = 4
        required_missions = { vn_pol_conquer_pomerelia }
        provinces_to_highlight = {
            OR = {
                area = neumark_area
                area = kolberg_area
                area = berlin_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            neumark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kolberg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            berlin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
            add_war_exhaustion = -2
            werle_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pomerania_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            wismar_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ruppin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            potsdam_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_vorpommern = {
        icon = protect_against_austria
        position = 5
        required_missions = { vn_pol_conquer_hinterpommern }
        provinces_to_highlight = {
            OR = {
                area = werle_area
                area = pomerania_area
                area = wismar_area
                area = ruppin_area
                area = potsdam_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            werle_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            pomerania_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            wismar_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            ruppin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            potsdam_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_dip_power = 100
            add_country_modifier = {
                name = pol_conquer_vorpommern_mission
                duration = 9125
            }
        }
    }
    vn_pol_royal_residences = {
        icon = eastern_catholicization
        position = 6
        required_missions = {  }
        trigger = {
            1138 = {
                owned_by = ROOT
                is_core = ROOT
                development = 20
                has_fort_trigger = yes
            }
            2419 = {
                owned_by = ROOT
                is_core = ROOT
                development = 20
                has_fort_trigger = yes
            }
            402 = {
                owned_by = ROOT
                is_core = ROOT
                development = 20
                has_fort_trigger = yes
            }
        }
        effect = {
            1138 = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
            }
            2419 = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
            }
            402 = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
            }
        }
    }
    vn_pol_polish_renaissance = {
        icon = the_great_school
        position = 7
        required_missions = { vn_pol_royal_residences }
        trigger = {
            has_institution = renaissance
            all_state_province = {
				renaissance = 100
			}
        }
        effect = {
            country_event = { id = flavor_pol.5100 }
            add_country_modifier = {
                name = pol_polish_renaissance_mission
                duration = 9125
            }
        }
	}
}

vn_pol_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = POL
            AND = {
                tag = PLC
                NOT = { was_tag = LIT }
            }
            AND = {
                tag = KRA
                was_tag = POL
            }
        }
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_pol_invite_german_settlers = {
        icon = settle_north_america
        position = 1
        required_missions = {  }
        trigger = {
            development_in_provinces = {
                value = 200
                OR = {
                    area = posen_area
                    area = czarnkow_area
                    area = gniezno_area
                    area = sieradz_area
                    area = leczyca_area
                }
            }
            2757 = {
                owned_by = ROOT
                is_core = ROOT
                calc_true_if = {
                    amount = 3
                    has_tax_building_trigger = yes
                    has_production_building_trigger = yes
                    has_trade_building_trigger = yes
                    has_manpower_building_trigger = yes
                    has_courthouse_building_trigger = yes
                }
            }
        }
        effect = {
            add_country_modifier = {
                name = pol_invite_german_settlers_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_west_prussia = {
        icon = mission_large_army
        position = 3
        required_missions = { vn_pol_conquer_pomerelia }
        provinces_to_highlight = {
            OR = {
                area = kulmerland_area
                area = ostpreusseneast_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            kulmerland_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            ostpreusseneast_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }  
        }
        effect = {
            add_mil_power = 50
            konigsberg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            memel_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            warmia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = pol_conquer_west_prussia_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_east_prussia = {
        icon = develop_konigsberg
        position = 4
        required_missions = { vn_pol_conquer_west_prussia }
        provinces_to_highlight = {
            OR = {
                area = konigsberg_area
                area = memel_area
                area = warmia_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            konigsberg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            memel_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            warmia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            if = {
                limit = { NOT = { exists = PTH } }
                country_event = {
                    id = vn_missions.26
                }
            }
			lusatiasouth_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			lusatianorth_area = {
				limit = {
					NOT = { is_core = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            meissen_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_sorbia = {
        icon = unite_the_realm
        position = 5
        required_missions = { vn_pol_conquer_east_prussia }
        provinces_to_highlight = {
			OR = {
				area = lusatiasouth_area
				area = lusatianorth_area
                area = meissen_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			lusatiasouth_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			lusatianorth_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            meissen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = pol_conquer_sorbia_mission
                duration = 9125
            }
        }
	}
    vn_pol_royal_cathedrals = {
        icon = despot_stefans_legacy
        position = 6
        required_missions = { }
        trigger = {
            if = {
                limit = {
                    OR = {
                        religion = catholic
                        religion = catholique
                    }
                }
                num_of_cardinals = 3
                if = {
                    limit = { religion = catholic }
                    reverse_has_opinion = {
                        who = PAP
                        value = 150
                    }
                }
                if = {
                    limit = { religion = catholique }
                    reverse_has_opinion = {
                        who = AVI
                        value = 150
                    }
                }
            }
            else = {
                religious_unity = 1
            }
            if = {
                limit = { has_estate = estate_church }
                estate_loyalty = {
                    estate = estate_church
                    loyalty = 60
                }
                estate_influence = {
                    estate = estate_church
                    influence = 40
                }
            }
        }
        effect = {
            add_religious_influence_effect_small = yes
            add_country_modifier = {
                name = pol_royal_cathedrals_mission
                duration = 9125
            }
        }
	}
    vn_pol_polish_bible = {
        icon = standardize_relazioni
        position = 7
        required_missions = { vn_pol_royal_cathedrals }
        trigger = {
            OR = {
                current_age = age_of_reformation
                current_age = age_of_absolutism
                current_age = age_of_revolutions
            }
            OR = {
                AND = {
                    religion = reformed
                    fervor = 75
                }
                AND = {
                    religion = catholic
                    papal_influence = 150
                }
                AND = {
                    OR = {
                        religion = protestant
                        religion = anabaptist
                        religion = anglican
                    }
                    church_power = 150
                }
            }
        }
        effect = {
            add_country_modifier = {
                name = pol_polish_bible_mission
                duration = 9125
            }
        }
    }
    vn_pol_statute_of_kalisz = {
        icon = reform_the_nomocanon
        position = 8
        required_missions = { vn_pol_polish_bible }
        trigger = {
            NOT = { corruption = 0.01 }
            NOT = { num_of_rebel_armies = 1 }
            NOT = { num_of_rebel_controlled_provinces = 1 }
            has_adm_advisor_3 = yes
        }
        effect = {
            add_country_modifier = {
                name = pol_statute_of_kalisz_mission
                duration = 9125
            }
        }
    }
}

vn_pol_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = POL
            AND = {
                tag = PLC
                NOT = { was_tag = LIT }
            }
            AND = {
                tag = KRA
                was_tag = POL
            }
        }
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_pol_grody_fortifications = {
        icon = mission_fort
        position = 1
        required_missions = {  }
        trigger = {
            custom_trigger_tooltip = {
				tooltip = vn_nrm_safeguard_borders.tt
				num_of_owned_provinces_with = {
					value = 3
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
					}
					has_fort_trigger = yes
				}
			}
        }
        effect = {
            add_country_modifier = {
                name = pol_grody_fortifications_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_silesia = {
        icon = take_silesia
        position = 2
        required_missions = { vn_pol_grody_fortifications vn_pol_avoid_fragmentation }
        provinces_to_highlight = {
            region = silesia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            silesia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            bohemia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_bohemia = {
        icon = the_hungarian_question
        position = 3
        required_missions = { vn_pol_conquer_silesia }
        provinces_to_highlight = {
            OR = {
                region = bohemia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            bohemia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_legitimacy = 10
            add_country_modifier = {
                name = pol_conquer_bohemia_mission
                duration = 9125
            }
        }
    }
    vn_pol_slavic_empire = {
        icon = encroach_on_the_germans
        position = 4
        required_missions = { vn_pol_conquer_bohemia }
        trigger = {
            OR = {
				is_emperor = yes
				NOT = { hre_size = 1 }
			}
        }
        effect = {
            if = {
                limit = { is_emperor = yes }
                add_imperial_influence = 25
            }
            else = {
                add_prestige_or_monarch_power = { amount = 25 } 
            }
            add_country_modifier = {
                name = pol_slavic_empire_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_pripyat = {
        icon = mission_unite_home_region
        position = 5
        required_missions = { vn_pol_conquer_red_ruthenia }
        provinces_to_highlight = {
            OR = {
                area = grodno_area
                area = pinsk_area
                area = brest_area
                area = melnik_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            grodno_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            pinsk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            brest_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            melnik_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            turov_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            minsk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            barysaw_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            mazyr_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_turov = {
        icon = mission_have_two_subjects
        position = 6
        required_missions = { vn_pol_conquer_pripyat }
        provinces_to_highlight = {
            OR = {
                area = turov_area
                area = minsk_area
                area = barysaw_area
                area = mazyr_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            turov_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            minsk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            barysaw_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            mazyr_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 15 } 
            lithuania_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            samogitian_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            trakai_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sudovia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_lithuania = {
        icon = hungarian_union
        position = 7
        required_missions = { vn_pol_conquer_turov }
        provinces_to_highlight = {
            OR = {
                region = lithuania_region
                region = samogitian_region
                area = trakai_area
                area = sudovia_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            lithuania_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            samogitian_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trakai_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sudovia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_prestige_or_monarch_power = { amount = 10 } 
            add_army_tradition = 10
            add_country_modifier = {
                name = pol_conquer_lithuania_mission
                duration = 9125
            }
        }
    }
    vn_pol_the_commonwealth = {
        icon = invest_in_the_provinces
        position = 8
        required_missions = { vn_pol_conquer_lithuania vn_pol_conquer_kiev }
        trigger = {
            tag = PLC
            stability = 2
            NOT = { overextension_percentage = 1 }
        }
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
            add_prestige_or_monarch_power = { amount = 25 } 
            add_country_modifier = {
                name = pol_the_commonwealth_mission
                duration = 18250
            }
        }
	}
}

vn_pol_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = POL
            AND = {
                tag = PLC
                NOT = { was_tag = LIT }
            }
            AND = {
                tag = KRA
                was_tag = POL
            }
        }
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_pol_avoid_fragmentation = {
        icon = avoid_fragmentation
        position = 1
        required_missions = {  }
        trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_pol_avoid_fragmentation.tt
                OR = {
                    has_global_flag = fragmentation_of_poland_ended
                   
                }
            }
        }
        effect = {
            add_legitimacy = 10
            warsaw_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            dobrzyn_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            wizna_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            nur_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            silesia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_mazovia = {
        icon = king_of_poland
        position = 3
        required_missions = { vn_pol_avoid_fragmentation }
        provinces_to_highlight = {
            OR = {
                area = warsaw_area
                area = dobrzyn_area
                area = wizna_area
                area = nur_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            warsaw_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            dobrzyn_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            wizna_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            nur_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
        }
        effect = {
            country_event = {
                id = flavor_pol.3473
            }
            peremyshl_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            halych_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lviv_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            belz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            
        }
    }
    vn_pol_conquer_red_ruthenia = {
        icon = revenge_for_nicopolis
        position = 4
        required_missions = { vn_pol_conquer_mazovia }
        provinces_to_highlight = {
            OR = {
                area = peremyshl_area
                area = halych_area
                area = lviv_area
                area = belz_area
                area = volodymyr_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            peremyshl_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            halych_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lviv_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            belz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            volodymyr_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            podolia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lutsk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            grodno_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pinsk_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            brest_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            melnik_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            peremyshl_area = {
                add_province_modifier = {
                    name = pol_conquer_red_ruthenia_mission
                    duration = 9125
                }
            }
            halych_area = {
                add_province_modifier = {
                    name = pol_conquer_red_ruthenia_mission
                    duration = 9125
                }
            }
            lviv_area = {
                add_province_modifier = {
                    name = pol_conquer_red_ruthenia_mission
                    duration = 9125
                }
            }
            belz_area = {
                add_province_modifier = {
                    name = pol_conquer_red_ruthenia_mission
                    duration = 9125
                }
            }
            volodymyr_area = {
                add_province_modifier = {
                    name = pol_conquer_red_ruthenia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_pol_conquer_podolia = {
        icon = mission_rule_ruthenia
        position = 6
        required_missions = { vn_pol_conquer_red_ruthenia }
        provinces_to_highlight = {
            OR = {
                region = podolia_region
                area = lutsk_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            podolia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lutsk_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_religious_influence_effect_large = yes
            kiev_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            moldavia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_kiev = {
        icon = mission_dethrone_the_rurikovichs
        position = 7
        required_missions = { vn_pol_conquer_podolia }
        provinces_to_highlight = {
            region = kiev_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            kiev_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = pol_conquer_kiev_mission
                duration = 9125
            }
        }
	}
}

vn_pol_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = POL
            AND = {
                tag = PLC
                NOT = { was_tag = LIT }
            }
            AND = {
                tag = KRA
                was_tag = POL
            }
        }
        NOT = { map_setup = map_setup_random }
    }
    has_country_shield = yes

    vn_pol_establish_folwarks = {
        icon = mission_village
        position = 1
        required_missions = {  }
        trigger = {
            num_of_owned_provinces_with = {
                value = 12
                development = 10
                has_trade_building_trigger = yes
            }
            num_of_owned_provinces_with = {
                value = 6
                development = 15
                has_trade_building_trigger = yes
            }
        }
        effect = {
            hidden_effect = {
                every_owned_province = {
                    limit = {
                        development = 15
                        has_trade_building_trigger = yes
                    }
                    add_province_modifier = {
                        name = "pol_establish_folwarks"
                        duration = 9125
                    }
                }
            }
            custom_tooltip = vn_pol_establish_folwarks.tt
        }
    }
    vn_pol_establish_salt_mines = {
        icon = reform_bergordnung
        position = 2
        required_missions = { vn_pol_establish_folwarks }
        provinces_to_highlight = {
            owned_by = ROOT
            trade_goods = salt
            OR = {
                has_production_building_trigger = no
                has_trade_building_trigger = no
            }
        }
        trigger = {
            num_of_owned_provinces_with = {
                value = 5
                trade_goods = salt
                has_production_building_trigger = yes
                has_trade_building_trigger = yes
            }
            if = {
                limit = { has_dlc = "Leviathan" }
                2419 = {
                    owned_by = ROOT
                    has_great_project = {
                        type = royal_salt_mines
                        tier = 3
                    }
                }
            }
        }
        effect = {
            add_mercantilism = 2
            add_years_of_income = 0.2
            add_country_modifier = {
                name = pol_establish_salt_mines_mission
                duration = 9125
            }
        }
    }
    vn_pol_polish_hussars = {
        icon = jageillonian_union
        position = 3
        required_missions = {  }
        trigger = {
            if = {
                limit = { has_dlc = "Cradle of Civilization" }
                army_professionalism = 0.5
            }
            army_tradition = 50
            num_of_cavalry = 25
        }
        effect = {
            create_general = {
                tradition = 80
            }
            nyitra_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            trencsin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            hont_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            abauj_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            zemplen_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = pol_polish_hussars_mission
                duration = 9125
            }
        }
    }
    vn_pol_conquer_nitra = {
        icon = fortress_switzerland
        position = 4
        required_missions = { vn_pol_polish_hussars vn_pol_conquer_mazovia }
        provinces_to_highlight = {
            OR = {
                area = nyitra_area
                area = trencsin_area
                area = hont_area
                area = abauj_area
                area = zemplen_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            nyitra_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trencsin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            hont_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            abauj_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            zemplen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            nagyatad_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sopron_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            veszprem_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            fejer_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bihar_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bekes_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            torontal_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            szabolcs_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            szatmar_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            orsova_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pest_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kiskun_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bacs_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            heves_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_pol_conquer_hungary = {
        icon = king_of_hungary
        position = 5
        required_missions = { vn_pol_conquer_nitra }
        provinces_to_highlight = {
            OR = {
                area = nagyatad_area
                area = sopron_area
                area = veszprem_area
                area = fejer_area
                area = bihar_area
                area = bekes_area
                area = torontal_area
                area = szabolcs_area
                area = szatmar_area
                area = orsova_area
                area = pest_area
                area = kiskun_area
                area = bacs_area
                area = heves_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			nagyatad_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			sopron_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			veszprem_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			fejer_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bihar_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bekes_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            torontal_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            szabolcs_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            szatmar_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            orsova_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            pest_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kiskun_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bacs_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            heves_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = pol_conquer_hungary_mission
                duration = 9125
            }
        }
	}
    vn_pol_conquer_moldavia = {
        icon = mission_conquer_romania
        position = 7
        required_missions = { vn_pol_conquer_podolia }
        provinces_to_highlight = {
            region = moldavia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            moldavia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_adm_power = 50
            add_mil_power = 50
            add_prestige_or_monarch_power = { amount = 10 } 
        }
	}
}