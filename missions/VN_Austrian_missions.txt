#Austrian missions
#by ShyGuy13

vn_hab_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	vn_hab_overcome_bruderzwist = {
		position = 1
		icon = mission_the_austrian_succession
        required_missions = { }
		trigger = {
            reform_level = 2
            stability = 2
			if = {
				limit = { has_government_attribute = heir }
				has_heir = yes
				heir_claim = 90
				heir_age = 15
			}
			NOT = { has_spawned_rebels = pretender_rebels }
		}
		effect = {
			add_reform_progress_medium_effect = yes
            add_country_modifier = {
				name = hab_overcome_bruderzwist_mission
				duration = 9125
			}
		}
	}
	vn_hab_claim_to_rule = {
        position = 2
		icon = the_spanish_succession
        required_missions = { vn_hab_overcome_bruderzwist }
		trigger = {
            if = {
                limit = { has_dlc = "Common Sense" }
                legitimacy_equivalent = 95
            }
            else_if = {
                limit = { government = monarchy }
                legitimacy = 95
            }
            monthly_dip = 10
			total_development = 200
            is_at_war = no
            has_any_disaster = no
		}
		effect = {
            country_event = { id = vn_missions.36 }
		}
	}
	vn_hab_conquer_tirol = {
        position = 3
		icon = claim_tirol
        required_missions = { vn_hab_conquer_carinthia }
        provinces_to_highlight = {
            OR = {
                area = tirol_area
                area = lienz_area
                area = trent_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            tirol_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lienz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trent_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
            add_adm_power = 25
            add_dip_power = 25
		}
	}
	vn_hab_royal_alliances = {
        position = 4
		icon = secure_our_rule
		required_missions = { vn_hab_conquer_tirol }
		trigger = {
			if = {
                limit = { government = monarchy }
                num_of_royal_marriages = 5
			}
			else = {
				num_of_allies = 5
			}
            calc_true_if = {
                amount = 3
                all_ally = {
                    has_opinion = {
                        who = ROOT
                        value = 150
                    }
                }
            }
		}
		effect = {
            breisgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			sundgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            hagenau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            nordgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            strassburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_royal_alliances_mission
                duration = 9125
            }
		}
    }
	vn_hab_conquer_breisgau = {
        position = 5
		icon = ansbach_succession
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            OR = {
                area = breisgau_area
                area = sundgau_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				OR = {
					area = breisgau_area
					area = sundgau_area
				}
			}
		}
        effect = {
            thurgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            stgallen_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            waldstatte_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
	}
	vn_hab_conquer_aargau = {
		position = 7
		icon = the_alpine_wall
        required_missions = { vn_hab_conquer_breisgau }
        provinces_to_highlight = {
            OR = {
                area = thurgau_area
                area = stgallen_area
                area = waldstatte_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				OR = {
                    area = thurgau_area
                    area = stgallen_area
                    area = waldstatte_area
                }
			}
		}
        effect = {
            add_legitimacy = 10
            
            wallis_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bern_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            basel_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            vaud_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_bern = {
		position = 8
		icon = fortress_switzerland
        required_missions = { vn_hab_conquer_aargau }
        provinces_to_highlight = {
            OR = {
                area = wallis_area
                area = bern_area
                area = basel_area
                area = vaud_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
                OR = {
                    area = wallis_area
                    area = bern_area
                    area = basel_area
                    area = vaud_area
                }
			}
		}
        effect = {
			add_prestige_or_monarch_power = { amount = 20 } 
            add_country_modifier = {
                name = hab_conquer_bern_mission
                duration = 9125
            }
        }
	}
	vn_hab_hungarian_restriction = {
        position = 10
		icon = hungarian_union
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            owned_by = ROOT
            culture = hungarian
            OR = {
                unrest = 1
                local_autonomy = 50
            }
        }
		trigger = {
            NOT = {
                any_owned_province = {
                    culture = hungarian
                    unrest = 1
                    local_autonomy = 50
                }
            }
            OR = {
                NOT = { exists = HUN }
                HUN = {
                    is_subject_of = ROOT
                    NOT = { liberty_desire = 10 }
                    NOT = { total_development = ROOT }
                }
            }
		}
		effect = {
            custom_tooltip = vn_hab_hungarian_restriction.tt
			hidden_effect = {
                every_owned_province = {
                    limit = { culture = hungarian }
                    add_province_modifier = {
                        name = hab_hungarian_restriction_mission
                        duration = 9125
                    }
                }
                every_subject_country = {
                    every_owned_province = {
                        limit = { culture = hungarian }
                        add_province_modifier = {
                            name = hab_hungarian_restriction_mission
                            duration = 9125
                        }
                    }
                }
            }
		}
	}
	vn_hab_multi_ethnic_state = {
        position = 11
		icon = multicultural_empire
        required_missions = { vn_hab_hungarian_restriction }
		trigger = {
			num_accepted_cultures = 7
			NOT = { has_spawned_rebels = nationalist_rebels }
		}
        effect = {
            add_country_modifier = {
                name = hab_multi_ethnic_state_mission
                duration = 9125
            }
        }
	}
	vn_hab_eastern_question = {
        position = 13
		icon = shift_the_balance
        required_missions = { }
        provinces_to_highlight = {
            owner = {
                NOT = { tag = ROOT }
                NOT = { alliance_with = ROOT }
                any_rival_country = {
                    primary_culture = turkish
                }
            }
        }
		trigger = {
            any_ally = {
                any_rival_country = {
                    primary_culture = turkish
                }
            }
		}
        effect = {
            add_army_tradition = 10
            add_country_modifier = {
                name = hab_eastern_question_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	vn_hab_conquer_carinthia = {
        position = 2
		icon = mission_european_castle
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            area = carinthia_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carinthia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
			tirol_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lienz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            trent_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			salzburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
		}
	}
	vn_hab_conquer_salzburg = {
		position = 3
		icon = take_the_bishoprics
        required_missions = { vn_hab_conquer_carinthia vn_hab_conquer_linz }
        provinces_to_highlight = {
            area = salzburg_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            salzburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }			
		}
		effect = {
			add_prestige_or_monarch_power = { amount = 10 } 
            add_country_modifier = {
                name = hab_conquer_salzburg_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_alsace = {
        position = 5
		icon = mission_village
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            OR = {
                area = hagenau_area
                area = nordgau_area
                area = strassburg_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 18
                OR = {
                    area = hagenau_area
                    area = nordgau_area
                    area = strassburg_area
                }
            }
		}
        effect = {
            hagenau_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
            nordgau_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
            strassburg_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_foothold_in_bavaria = {
        position = 6
		icon = mission_landsknecht_soldier
        required_missions = { vn_hab_conquer_alsace }
        provinces_to_highlight = {
            OR = {
                area = ingolstadt_area
                area = innkreis_area
                area = munich_area
                area = straubing_area
                area = landshut_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            ingolstadt_area = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            innkreis_area = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            munich_area = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            straubing_area = {
                country_or_non_sovereign_subject_holds = ROOT
            }
            landshut_area = {
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            if = {
                limit = {
                    exists = BAV
                    valid_for_personal_unions_trigger = yes
                    BAV = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BAV
                }
            }
            else = {
                ingolstadt_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                innkreis_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                munich_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                straubing_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                landshut_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_bavaria = {
        position = 7
		icon = duchy_of_bavaria
        required_missions = { vn_hab_foothold_in_bavaria }
        provinces_to_highlight = {
            OR = {
                area = ingolstadt_area
                area = innkreis_area
                area = munich_area
                area = straubing_area
                area = landshut_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            ingolstadt_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            innkreis_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            munich_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            straubing_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            landshut_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_dip_power = 50
            add_country_modifier = {
                name = hab_conquer_bavaria_mission
                duration = 9125
            }
		}
    }
    vn_hab_fortify_austria = {
        position = 8
        icon = alpine_defenses
        required_missions = { }
		trigger = {
            capital_scope = {
                has_fort_15th_trigger = yes
            }
            custom_trigger_tooltip = {
				tooltip = vn_nrm_safeguard_borders.tt
				num_of_owned_provinces_with = {
					value = 3
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
					}
					has_fort_trigger = yes
				}
			}
		}
        effect = {
            if = {
                limit = {
                    exists = HUN
                    valid_for_personal_unions_trigger = yes
                    HUN = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = HUN
                }
            }
            else = {
                nagyatad_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sopron_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                veszprem_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                fejer_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bihar_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bekes_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                torontal_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                szabolcs_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                szatmar_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                orsova_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                nyitra_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                trencsin_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                hont_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                abauj_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                zemplen_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                pest_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                kiskun_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                bacs_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                heves_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_hab_conquer_hungary = {
        position = 9
		icon = the_hungarian_succession
        required_missions = { vn_hab_fortify_austria }
        provinces_to_highlight = {
            OR = {
                area = nagyatad_area
                area = sopron_area
                area = veszprem_area
                area = fejer_area
                area = bihar_area
                area = bekes_area
                area = torontal_area
                area = szabolcs_area
                area = szatmar_area
                area = orsova_area
                area = nyitra_area
                area = trencsin_area
                area = hont_area
                area = abauj_area
                area = zemplen_area
                area = pest_area
                area = kiskun_area
                area = bacs_area
                area = heves_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			nagyatad_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			sopron_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			veszprem_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			fejer_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bihar_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bekes_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            torontal_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            szabolcs_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            szatmar_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            orsova_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            nyitra_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trencsin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            hont_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            abauj_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            zemplen_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            pest_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            kiskun_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            bacs_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            heves_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            transylvania_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            croatia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            senj_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            dalmatia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            split_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_hungary_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_transylvania = {
        position = 10
		icon = invest_in_the_provinces
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            region = transylvania_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 14
                region = transylvania_region
            }
		}
        effect = {
            buzau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            teleorman_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            oltenia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            severin_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            dambovita_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ilfov_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_wallachia = {
        position = 11
		icon = mission_build_up_to_force_limit
        required_missions = { vn_hab_conquer_transylvania vn_hab_hungarian_restriction }
        provinces_to_highlight = {
            OR = {
                area = buzau_area
                area = teleorman_area
                area = oltenia_area
                area = severin_area
                area = dambovita_area
                area = ilfov_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 14
                OR = {
                    area = buzau_area
                    area = teleorman_area
                    area = oltenia_area
                    area = severin_area
                    area = dambovita_area
                    area = ilfov_area
                }
            }
		}
        effect = {
            add_prestige_or_monarch_power = { amount = 10 }
            buzau_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            teleorman_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            oltenia_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            severin_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            dambovita_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            ilfov_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_conquer_serbia = {
        position = 12
		icon = fortress_of_belgrade
        required_missions = { vn_hab_conquer_bosnia }
        provinces_to_highlight = {
            OR = {
                region = serbia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 16
                OR = {
                    region = serbia_region
                }
            }
		}
        effect = {
            serbia_region = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_humiliate_the_turks = {
        position = 14
		icon = mission_ottoman_diplomacy
        required_missions = { vn_hab_conquer_serbia vn_hab_eastern_question }
		provinces_to_highlight = {
            owner = {
                NOT = { tag = ROOT }
                primary_culture = turkish
            }
        }
        trigger = {
            any_country = {
                primary_culture = turkish
                humiliated_by = ROOT
            }
		}
        effect = {
            add_war_exhaustion = -2
            balkans_superregion = {
                limit = {
                    owner = {
                        NOT = { tag = ROOT }
                        primary_culture = turkish
                    }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_humiliate_the_turks_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes
    
    vn_hab_conquer_styria = {
        position = 1
		icon = glory_to_von_habsburg
        required_missions = { }
        provinces_to_highlight = {
            OR = {
                area = styria_area
                area = murmark_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			styria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            murmark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
			carinthia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            linz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_styria_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_linz = {
        position = 2
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            area = linz_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			linz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_prestige_or_monarch_power = { amount = 5 } 
            carniola_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sannmark_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_carniola = {
        position = 3
		icon = up_the_adige
        required_missions = { vn_hab_conquer_linz }
        provinces_to_highlight = {
            OR = {
                area = carniola_area
                area = sannmark_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carniola_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sannmark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            istria_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_istria = {
        position = 4
		icon = capture_adriatic_ports
        required_missions = { vn_hab_conquer_carniola }
        provinces_to_highlight = {
            area = istria_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			istria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_navy_tradition = 20
			954 = {
                add_province_modifier = {
                    name = hab_conquer_istria_mission
                    duration = -1
                }
            }
		}
    }
    vn_hab_inheritage_of_burgundy = {
        position = 5
		icon = mission_monarch_in_throne_room
        required_missions = { }
		trigger = {
            if = {
                limit = { has_dlc = "Emperor" }
                OR = {
                    custom_trigger_tooltip = {
                        tooltip = vn_hab_inheritage_of_burgundy.tt
                        BUR = {
                            exists = yes
                            has_country_flag = bur_crisis_has_happened
                        }
                    }
                    is_year = 1500
                }
            }
            else = {
                is_year = 1500
                total_own_and_non_tributary_subject_development = BUR
            }
            is_subject = no
			is_at_war = no
		}
		effect = {
            add_prestige_or_monarch_power = { amount = 15 } 
			if = {
                limit = {
                    exists = BUR
                    valid_for_personal_unions_trigger = yes
                    BUR = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BUR
                }
            }
            else = {
                burgundy_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                charolais_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                dole_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                besancon_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_burgundy = {
        position = 6
		icon = mission_rb_repatriate_burgundy
        required_missions = { vn_hab_inheritage_of_burgundy vn_hab_conquer_alsace }
        provinces_to_highlight = {
            OR = {
                area = burgundy_area
                area = charolais_area
                area = dole_area
                area = besancon_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            burgundy_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            charolais_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            dole_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
            besancon_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
        effect = {
            antwerp_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            brabant_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            luxemburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_burgundy_mission_mission
                duration = 9125
            }
        }
    }
    vn_hab_spanish_union = {
        position = 7
        icon = king_of_aragon
        required_missions = { vn_hab_conquer_burgundy }
        trigger = {
            OR = {
                NOT = { exists = FRA }
                is_rival = FRA
            }
            custom_trigger_tooltip = {
                tooltip = vn_hab_spanish_union.tt
                OR = {
                    any_ally = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                    any_subject_country = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                }
            }
        }
        effect = {
            add_mil_power = 50
            add_army_tradition = 10
            add_country_modifier = {
                name = hab_spanish_union_mission
                duration = 9125
            }
        }
    }
    vn_hab_challenge_france = {
        position = 8
		icon = king_of_the_franks
        required_missions = { vn_hab_spanish_union }
		trigger = {
			calc_true_if = {
				OR = {
					french_superregion = {
                        type = all
                        controlled_by = ROOT
                    }
				}
				amount = 75
			}
		}
		effect = {
            add_power_projection = {
                type = mission_rewards_power_projection
                amount = 25
            }
            french_superregion = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
            add_country_modifier = {
                name = hab_challenge_france_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_croatia = {
        position = 10
		icon = renaissance_city
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            OR = {
                region = croatia_region
                area = senj_area
                area = dalmatia_area
                area = split_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_owned_provinces_with = {
                value = 24
                OR = {
                    region = croatia_region
                    area = senj_area
                    area = dalmatia_area
                    area = split_area
                }
            }
		}
        effect = {
            donji_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            hum_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            kupres_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bobovac_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            doboj_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            croatia_region = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            senj_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            dalmatia_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            split_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_conquer_bosnia = {
        position = 11
		icon = mission_soldiers_in_line
        required_missions = { vn_hab_conquer_croatia }
        provinces_to_highlight = {
            OR = {
                area = donji_area
                area = hum_area
                area = kupres_area
                area = bobovac_area
                area = doboj_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_owned_provinces_with = {
                value = 16
                OR = {
                    area = donji_area
                    area = hum_area
                    area = kupres_area
                    area = bobovac_area
                    area = doboj_area
                }
            }
		}
        effect = {
            serbia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            donji_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            hum_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            kupres_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            bobovac_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            doboj_area = {
                limit = { country_or_non_sovereign_subject_holds = ROOT }
                add_devastation = -10
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_reorganize_alliances = {
        position = 12
        icon = a_place_among_the_great_powers
        required_missions = { }
        trigger = {
            if = {
                limit = { has_dlc = "Rights of Man" }
                is_great_power = yes
                any_ally = {
                    is_great_power = yes
                }
                any_rival_country = {
                    is_great_power = yes
                }
            }
            else = {
                total_development = 500
                any_ally = {
                    total_development = 500
                }
                any_rival_country = {
                    total_development = 500
                }
            }
        }
        effect = {
            random_list = {
                25 = {
                    add_prestige_or_monarch_power = { amount = 25 } 
                }
                25 = {
                    add_power_projection = {
                        type = mission_rewards_power_projection
                        amount = 25
                    }
                }
                25 = {
                    add_reform_progress_medium_effect = yes
                }
                25 = {
                    add_adm_power = 75
                    add_dip_power = 75
                    add_mil_power = 75
                }
            }
        }
    }
    vn_hab_imperial_army = {
        position = 13
		icon = professional_army
        required_missions = { vn_hab_reorganize_alliances }
		trigger = {
            if = {
                limit = { has_dlc = "Cradle of Civilization" }
                army_professionalism = 0.25
            }
            num_of_generals = 3
            army_size = 75
            army_size_percentage = 0.75
            num_of_owned_provinces_with = {
                value = 10
                has_manpower_building_trigger = yes
            }  
		}
        effect = {
            add_army_professionalism = 0.05
            add_country_modifier = {
                name = hab_imperial_army_mission
                duration = 9125
            }
        }
    }
    vn_hab_crush_the_revolution = {
        position = 14
		icon = crush_the_revolution
        required_missions = { vn_hab_imperial_army }
        provinces_to_highlight = {
            if = {
                limit = {
                    revolution_target_exists = yes
                }
                owner = {
                    is_revolution_target = yes
                }
            }
            else = {
                always = no
            }
        }
		trigger = {
            is_in_war = {
                attacker_leader = ROOT
                casus_belli = cb_crush_the_revolution
                war_score = 75
            }
		}
        effect = {
            add_estate_nobles_loyalty_effect = yes
            add_estate_church_loyalty_effect = yes
            add_estate_burghers_loyalty_effect = yes
            add_country_modifier = {
                name = hab_crush_the_revolution_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_join_the_inquisition = {
        position = 1
		icon = support_the_orders
        required_missions = { }
		trigger = {
            num_of_owned_provinces_with = {
				value = 3
				area = wien_area
				has_tax_building_trigger = yes
            }
            num_of_owned_provinces_with = {
				value = 3
				area = ostmarch_area
				has_tax_building_trigger = yes
            }
            num_of_owned_provinces_with = {
				value = 3
				area = raabs_area
				has_tax_building_trigger = yes
			}
		}
		effect = {
            add_papal_influence = 20
            add_estate_church_loyalty_effect = yes
            add_country_modifier = {
                name = hab_join_the_inquisition_mission
                duration = 9125
            }
		}
    }
    vn_hab_survive_reformation = {
        position = 2
		icon = wars_of_religion
        required_missions = { vn_hab_join_the_inquisition }
		trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_hab_survive_reformation.tt
                OR = {
                    has_country_flag = had_religious_turmoil
                    current_age = age_of_absolutism
                    current_age = age_of_revolutions
                }
            }
		}
		effect = {
            country_event = { id = vn_missions.35 }
		}
    }
    vn_hab_join_the_counterreformation = {
        position = 3
		icon = mission_hands_praying
        required_missions = { vn_hab_survive_reformation }
		trigger = {
            OR = {
                AND = {
                    full_idea_group = humanist_ideas
                    theologian = 1
                }
                AND = {
                    full_idea_group = religious_ideas
                    inquisitor = 1
                }
                AND = {
                    religious_unity = 1
                    stability = 2
                }
            }
		}
		effect = {
            add_stability_or_adm_power = yes
            add_country_modifier = {
                name = hab_join_the_counterreformation_mission
                duration = 9125
            }
		}
    }
    vn_hab_united_in_faith = {
        position = 4
		icon = shield_of_christendom
        required_missions = { vn_hab_join_the_counterreformation vn_hab_establish_reichstag }
        provinces_to_highlight = {
            owner = {
                is_part_of_hre = yes
                religion_group = ROOT
                NOT = { religion = ROOT }
            }
        }
		trigger = {
            is_emperor = yes
            if = {
                limit = { has_dlc = "Emperor" }
                is_defender_of_faith_of_tier = 4
            }
            else = {
                is_defender_of_faith = yes
            }
            custom_trigger_tooltip = {
                tooltip = vn_hab_united_in_faith.tt
                NOT = {
                    calc_true_if = {
                        amount = 50
                        all_country = {
                            is_part_of_hre = yes
                            religion_group = ROOT
                            NOT = { religion = ROOT }
                        }
                    }
                }
            }
		}
		effect = {
            add_imperial_influence = 10
            add_country_modifier = {
                name = hab_united_in_faith_mission
                duration = 9125
            }
		}
    }
    vn_hab_eternal_empire = {
        position = 5
		icon = lead_the_empire
        required_missions = { vn_hab_united_in_faith }
        trigger = {
            is_emperor = yes
            OR = {
                hre_reform_passed = emperor_erbkaisertum
                hre_reform_passed = erbkaisertum
            }
            custom_trigger_tooltip = {
                tooltip = vn_hab_eternal_empire.tt
                NOT = {
                    any_country = {
                        is_part_of_hre = yes
                        has_opinion = {
                            who = ROOT
                            value = 0
                        }
                    }
                }
            }
		}
        effect = {
            add_prestige_or_monarch_power = { amount = 25 } 
            add_country_modifier = {
                name = hab_eternal_empire_mission
                duration = 18250
            }
        }
    }
    vn_hab_aeiou = {
        position = 6
		icon = a.e.i.o.u.
        required_missions = { vn_hab_eternal_empire }
		trigger = {
            tag = EAH
            NOT = {
                any_owned_province = {
                    nationalism = 1
                    unrest = 1
                    devastation = 1
                    NOT = { controlled_by = ROOT }
                }
            }
		}
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
            add_country_modifier = {
                name = hab_aeiou_mission
                duration = -1
            }
        }
    }
    vn_hab_conquer_belgium = {
        position = 7
		icon = mission_spanish_netherlands
        required_missions = { vn_hab_conquer_burgundy }
        provinces_to_highlight = {
            OR = {
                area = antwerp_area
                area = brabant_area
                area = luxemburg_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            antwerp_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            brabant_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            luxemburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            add_dip_power = 100
            holland_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
            hainaut_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
            brabant_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
            utrecht_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
            flanders_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_claim = ROOT }
                }
                add_claim = ROOT
            }
        }
    }
    vn_hab_secure_rule_in_belgium = {
        position = 8
        icon = neapolitan_govenance
        required_missions = { vn_hab_conquer_belgium }
        provinces_to_highlight = {
           OR = {
               area = antwerp_area
               area = luxemburg_area
               area = brabant_area
           }
           NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			antwerp_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
                is_state = yes
                consolidated_region_trigger = yes
            }
            brabant_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
                is_state = yes
                consolidated_region_trigger = yes
            }
            luxemburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
                is_state = yes
                consolidated_region_trigger = yes
            }
		}
        effect = {
            antwerp_area = {
                add_province_modifier = {
                    name = hab_secure_rule_in_belgium_mission
                    duration = 9125
                }
            }
            brabant_area = {
                add_province_modifier = {
                    name = hab_secure_rule_in_belgium_mission
                    duration = 9125
                }
            }
            luxemburg_area = {
                add_province_modifier = {
                    name = hab_secure_rule_in_belgium_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_conquer_venetia = {
        position = 9
		icon = mission_raid_on_venice
        required_missions = { vn_hab_rivalry_with_venice }
        provinces_to_highlight = {
            OR = {
                area = venice_area
                area = verona_area
                area = padua_area
                area = friuli_area
                area = tolmezzo_area
                area = belluno_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 10
                OR = {
                    area = venice_area
                    area = verona_area
                    area = padua_area
                    area = friuli_area
                    area = tolmezzo_area
                    area = belluno_area
                }
            }
		}
        effect = {
            brescia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            milan_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            como_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bellinzona_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            pavia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            modena_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            parma_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            mantua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_venetia_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_milan = {
        position = 10
		icon = control_the_vatican
        required_missions = { vn_hab_conquer_venetia }
        provinces_to_highlight = {
            OR = {
                area = brescia_area
                area = milan_area
                area = como_area
                area = bellinzona_area
                area = pavia_area
                area = modena_area
                area = parma_area
                area = mantua_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 20
                area = brescia_area
                area = milan_area
                area = como_area
                area = bellinzona_area
                area = pavia_area
                area = modena_area
                area = parma_area
                area = mantua_area
            }
		}
        effect = {
            country_event = { id = vn_missions.37 }
            if = {
                limit = {
                    exists = NAP
                    valid_for_personal_unions_trigger = yes
                    NAP = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = NAP
                }
            }
            else = {
                salento_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                north_salento_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                foggia_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                calabria_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                cosenza_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                basilicata_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                ariano_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                abruzzo_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                molise_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                salerno_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                naples_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                capua_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sirente_velino_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_hab_conquer_naples = {
        position = 11
        icon = union_with_naples
        required_missions = { vn_hab_conquer_milan }
        provinces_to_highlight = {
			OR = {
				area = salento_area
				area = north_salento_area
				area = foggia_area
				area = calabria_area
				area = cosenza_area
				area = basilicata_area
				area = ariano_area
                area = abruzzo_area
                area = molise_area
                area = salerno_area
                area = naples_area
                area = capua_area
                area = sirente_velino_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 30
                OR = {
                    area = salento_area
                    area = north_salento_area
                    area = foggia_area
                    area = calabria_area
                    area = cosenza_area
                    area = basilicata_area
                    area = ariano_area
                area = abruzzo_area
                area = molise_area
                area = salerno_area
                area = naples_area
                area = capua_area
                area = sirente_velino_area
                }
            }
        }
        effect = {
            add_dip_power = 100
            add_prestige_or_monarch_power = { amount = 15 } 
            add_country_modifier = {
                name = hab_conquer_naples_mission
                duration = 9125
            }
        }
    }
    vn_hab_josephinism = {
        position = 13
		icon = imperial_ascendancy
        required_missions = { vn_hab_university_of_wien }
		trigger = {
            government = monarchy
            absolutism = 50
            has_institution = enlightenment
            custom_trigger_tooltip = {
                tooltip = vn_hab_josephinism.tt
                has_country_flag = vn_hab_enlightened_reforms_flag
            }
		}
        effect = {
            add_prestige_or_monarch_power = { amount = 15 } 
            add_absolutism = 5
            add_country_modifier = {
                name = hab_josephinism_mission
                duration = -1
            }
        }
    }
    vn_hab_castle_of_wien = {
        position = 14
		icon = the_viennese_waltz
        required_missions = { vn_hab_josephinism }
        provinces_to_highlight = {
            province_id = 2172
        }
		trigger = {
            2172 = {
                owned_by = ROOT
                is_capital_of = ROOT
                development = 40
                num_of_buildings_in_province = 5
                if = {
                    limit = { has_dlc = "Mandate of Heaven" }
                    is_prosperous = yes
                }
                if = {
                    limit = { has_dlc = "Dharma" }
                    province_has_center_of_trade_of_level = 3
                }
            }
		}
        effect = {
            2172 = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
                add_province_modifier = {
                    name = hab_castle_of_wien_mission
                    duration = -1
                }
            }
        }
    }
}

vn_hab_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_imperial_ambition = {
        position = 1
        icon = spread_the_von_wettins
        required_missions = { }
        provinces_to_highlight = {
            owner = {
                NOT = { tag = ROOT }
                is_elector = yes
                NOT = { preferred_emperor = ROOT }
            }
        }
        trigger = {
            is_emperor = yes
            calc_true_if = {
                desc = gen_hre_electors.tooltip
                all_elector = {
                    preferred_emperor = ROOT
                }
                amount = 4
            }
        }
        effect = {
            add_country_modifier = {
                name = hab_imperial_ambition_mission
                duration = 9125
            }
        }
    }
    vn_hab_establish_reichstag = {
        position = 3
		icon = all_bases_covered
        required_missions = { vn_hab_imperial_ambition }
        trigger = {
            is_emperor = yes
            imperial_influence = 25
			OR = {
                hre_reform_passed = emperor_reichsreform
                hre_reform_passed = reichsreform
            }
		}
        effect = {
            if = {
                limit = {
                    exists = BOH
                    valid_for_personal_unions_trigger = yes
                    BOH = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BOH
                }
            }
            else = {
                bohemia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
            add_imperial_influence = 10
            custom_tooltip = vn_hab_establish_reichstag.tt
            hidden_effect = {
                every_country = {
                    limit = { is_part_of_hre = yes }
                    add_opinion = {
                        who = ROOT
                        modifier = opinion_good_relations
                    }
                }
            }
        }
    }
    vn_hab_conquer_bohemia = {
        position = 4
        icon = bohemian_borderlands
        required_missions = { vn_hab_establish_reichstag }
        provinces_to_highlight = {
            OR = {
                region = bohemia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            bohemia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOt
            }
        }
        effect = {
            silesia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_bohemia_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_silesia = {
        position = 5
        icon = take_silesia
        required_missions = { vn_hab_conquer_bohemia }
        provinces_to_highlight = {
            region = silesia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            silesia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            peremyshl_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            halych_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lviv_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            krakow_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sacz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sandomierz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_krakow = {
        position = 6
        icon = polish_diplomacy
        required_missions = { vn_hab_conquer_silesia }
        provinces_to_highlight = {
            OR = {
                area = peremyshl_area
                area = halych_area
                area = lviv_area
                area = krakow_area
                area = sacz_area
                area = sandomierz_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            peremyshl_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            halych_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lviv_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            krakow_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sacz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sandomierz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            if = {
                limit = {
                    exists = POL
                    valid_for_personal_unions_trigger = yes
                    POL = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = POL
                }
            }
            else = {
                radom_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                lublin_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                warsaw_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                nur_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_hab_conquer_warsaw = {
        position = 7
        icon = mission_partition_poland
        required_missions = { vn_hab_conquer_krakow }
        provinces_to_highlight = {
            OR = {
                area = radom_area
                area = lublin_area
                area = warsaw_area
                area = nur_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            radom_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lublin_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            warsaw_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            nur_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            add_country_modifier = {
                name = hab_conquer_warsaw_mission
                duration = 9125
            }
        }
    }
    vn_hab_rivalry_with_venice = {
        position = 8
        icon = mission_control_venice
        required_missions = { }
        trigger = {
            is_year = 1450
            any_owned_province = {
                superregion = italy_superregion
            }
            calc_true_if = {
                amount = 2
                desc = vn_hab_rivalry_with_venice.tt
                all_country = {
                    OR = {
                        alliance_with = ROOT
                        is_subject_of = ROOT
                    }
                    capital_scope = {
                        superregion = italy_superregion
                    }
                    army_size = 10
                }
            }   
        }
        effect = {
            add_mil_power = 100
            venice_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            verona_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            padua_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            friuli_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            tolmezzo_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            belluno_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_expand_navy = {
        position = 9
        icon = mission_rb_grow_the_channel
        required_missions = { vn_hab_rivalry_with_venice }
        trigger = {
            calc_true_if = {
                amount = 2
                num_of_light_ship = 10
                num_of_galley = 10
                num_of_transport = 10
            }
            num_of_heavy_ship = 3
        }
        effect = {
            define_advisor = {
                type = naval_reformer
                skill = 3
                cost_multiplier = 0.25
            }
            add_country_modifier = {
                name = hab_expand_navy_mission
                duration = 9125
            }
        }
    }
    vn_hab_dominate_adriatic_trade = {
        position = 10
        icon = unite_the_league
        required_missions = { vn_hab_expand_navy }
        provinces_to_highlight = {
            OR = {
                province_id = 112
                province_id = 137
                province_id = 874
            }
            NOT = {
                is_strongest_trade_power = ROOT
            }
        }
        trigger = {
            112 = {
                is_strongest_trade_power = ROOT
            }
            137 = {
                is_strongest_trade_power = ROOT
            }
            874 = {
                is_strongest_trade_power = ROOT
            }
        }
        effect = {
            add_years_of_income = 0.5
            add_country_modifier = {
                name = hab_dominate_adriatic_trade_mission
                duration = 9125
            }
        }
    }
    vn_hab_balance_the_estate = {
        position = 11
		icon = balance_the_estates
        required_missions = { }
		trigger = {
            stability = 1
            OR = {
                NOT = { has_estate = estate_nobles }
                estate_loyalty = {
                    estate = estate_nobles
                    loyalty = 60
                }
            }
            OR = {
                NOT = { has_estate = estate_church }
                estate_loyalty = {
                    estate = estate_church
                    loyalty = 60
                }
            }
            OR = {
                NOT = { has_estate = estate_burghers }
                estate_loyalty = {
                    estate = estate_burghers
                    loyalty = 60
                }
            }
		}
        effect = {
            custom_tooltip = vn_hab_balance_the_estate.tt
            hidden_effect = {
                every_owned_province = {
                    add_local_autonomy = -10
                }
            }
        }
    }
    vn_hab_university_of_wien = {
        position = 12
		icon = mission_rb_the_education_acts
        required_missions = { vn_hab_balance_the_estate }
		provinces_to_highlight = {
            province_id = 2172
            OR = {
                NOT = { owned_by = ROOT }
                NOT = { has_education_building_trigger = yes }
            }
        }
		trigger = {
            has_3_lv3_advisors_trigger = yes
            2172 = {
                owned_by = ROOT
                has_education_building_trigger = yes
            }
		}
        effect = {
            add_innovativeness_big_effect = yes
            add_country_modifier = {
                name = hab_university_of_wien_mission
                duration = -1
            }
        }
    }
}